{% extends "base_member.html" %}

{% block title %}Statistics - BookTracker{% endblock %}

{% block head %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/statistics.css') }}">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

{% endblock %}

{% block content %}
<div class="stats-container px-4">
    <!-- Stat Cards -->
    <div class="stats-grid" id="statCards">
        <!-- Populated by JS -->
    </div>
    <!-- Charts -->
    <div class="chart-card">
        <div class="chart-title">Books by Genre (Top 10)</div>
        <canvas id="genrePie"></canvas>
    </div>
    <div class="chart-card">
        <div class="chart-title">Books by Status</div>
        <canvas id="statusPie" width="100" height="1000"></canvas>
    </div>
    <div class="chart-card">
        <div class="chart-title">Top Authors</div>
        <canvas id="authorBar"></canvas>
    </div>
    <div class="chart-card">
        <div class="chart-title">Books Read Over Time</div>
        <div class="mb-3">
            <select id="booksTimeRange" class="form-select" style="max-width:200px;">
                <option value="weeks">By Week</option>
                <option value="months" selected>By Month</option>
                <option value="years">By Year</option>
                <option value="all">All Time</option>
            </select>
        </div>
        <canvas id="booksOverTime"></canvas>
    </div>
    <div class="chart-card">
        <div class="chart-title">Pages Read Over Time</div>
        <div class="mb-3">
            <select id="pagesTimeRange" class="form-select" style="max-width:200px;">
                <option value="weeks">By Week</option>
                <option value="months" selected>By Month</option>
                <option value="years">By Year</option>
                <option value="all">All Time</option>
            </select>
        </div>
        <canvas id="pagesOverTime"></canvas>
    </div>
</div>
{% endblock %}

{% block scripts %}

<script src="{{ url_for('static', filename='js/statistics.js') }}"></script>

{% endblock %}